{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst form = document.querySelector('.feedback-form');\nconst input = form.querySelector('[name=\"email\"]');\nconst textarea = form.querySelector('[name=\"message\"]');\nconst button = form.querySelector('.form-btn');\nconst KEY_FORM = 'feedback-form-state';\nlet formData = {\n  email: '',\n  message: '',\n};\n\ntry {\n  const getData = localStorage.getItem(KEY_FORM);\n  if (getData) {\n    const parsed = JSON.parse(getData);\n    if (\n      typeof parsed === 'object' &&\n      parsed !== null &&\n      'email' in parsed &&\n      'message' in parsed\n    ) {\n      formData = parsed;\n    }\n  }\n} catch (error) {\n  console.error('Reading problems with localStorage:', error);\n}\n\nfunction getUserData() {\n  input.value = formData.email;\n  textarea.value = formData.message;\n}\n\ngetUserData();\n\nform.addEventListener('input', handleInput);\n\nfunction handleInput(event) {\n  const name = event.target.name;\n  const value = event.target.value.trim();\n  if (name === 'email') {\n    formData.email = value;\n  } else {\n    formData.message = value;\n  }\n  localStorage.setItem(KEY_FORM, JSON.stringify(formData));\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  if (input.value.trim() === '' || textarea.value.trim() === '') {\n    alert('«Fill please all fields»');\n    return;\n  }\n  console.log(formData);\n\n  formData = { email: '', message: '' };\n  event.currentTarget.reset();\n  localStorage.removeItem(KEY_FORM);\n}\n"],"names":["form","input","textarea","KEY_FORM","formData","getData","parsed","error","getUserData","handleInput","event","name","value","handleSubmit"],"mappings":"wFAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,gBAAgB,EAC3CE,EAAWF,EAAK,cAAc,kBAAkB,EACvCA,EAAK,cAAc,WAAW,EAC7C,MAAMG,EAAW,sBACjB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,GAAI,CACF,MAAMC,EAAU,aAAa,QAAQF,CAAQ,EAC7C,GAAIE,EAAS,CACX,MAAMC,EAAS,KAAK,MAAMD,CAAO,EAE/B,OAAOC,GAAW,UAClBA,IAAW,MACX,UAAWA,GACX,YAAaA,IAEbF,EAAWE,EAEd,CACH,OAASC,EAAO,CACd,QAAQ,MAAM,sCAAuCA,CAAK,CAC5D,CAEA,SAASC,GAAc,CACrBP,EAAM,MAAQG,EAAS,MACvBF,EAAS,MAAQE,EAAS,OAC5B,CAEAI,IAEAR,EAAK,iBAAiB,QAASS,CAAW,EAE1C,SAASA,EAAYC,EAAO,CAC1B,MAAMC,EAAOD,EAAM,OAAO,KACpBE,EAAQF,EAAM,OAAO,MAAM,KAAI,EACjCC,IAAS,QACXP,EAAS,MAAQQ,EAEjBR,EAAS,QAAUQ,EAErB,aAAa,QAAQT,EAAU,KAAK,UAAUC,CAAQ,CAAC,CACzD,CAEAJ,EAAK,iBAAiB,SAAUa,CAAY,EAE5C,SAASA,EAAaH,EAAO,CAE3B,GADAA,EAAM,eAAc,EAChBT,EAAM,MAAM,SAAW,IAAMC,EAAS,MAAM,KAAM,IAAK,GAAI,CAC7D,MAAM,0BAA0B,EAChC,MACD,CACD,QAAQ,IAAIE,CAAQ,EAEpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCM,EAAM,cAAc,QACpB,aAAa,WAAWP,CAAQ,CAClC"}